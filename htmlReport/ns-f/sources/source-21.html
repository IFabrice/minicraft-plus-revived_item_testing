


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1252"> 
  <title>Coverage Report > TitleDisplay</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">minicraft.screen</a>
</div>

<h1>Coverage Summary for Class: TitleDisplay (minicraft.screen)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">TitleDisplay</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/17)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/76)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package minicraft.screen;
&nbsp;
&nbsp;import minicraft.core.Game;
&nbsp;import minicraft.core.Renderer;
&nbsp;import minicraft.core.VersionInfo;
&nbsp;import minicraft.core.World;
&nbsp;import minicraft.core.io.InputHandler;
&nbsp;import minicraft.core.io.Localization;
&nbsp;import minicraft.gfx.Color;
&nbsp;import minicraft.gfx.Font;
&nbsp;import minicraft.gfx.MinicraftImage;
&nbsp;import minicraft.gfx.Point;
&nbsp;import minicraft.gfx.Screen;
&nbsp;import minicraft.gfx.SpriteLinker.SpriteType;
&nbsp;import minicraft.level.Level;
&nbsp;import minicraft.network.Network;
&nbsp;import minicraft.screen.entry.BlankEntry;
&nbsp;import minicraft.screen.entry.LinkEntry;
&nbsp;import minicraft.screen.entry.SelectEntry;
&nbsp;import minicraft.screen.entry.StringEntry;
&nbsp;import minicraft.util.BookData;
&nbsp;
&nbsp;import java.time.LocalDateTime;
&nbsp;import java.time.Month;
&nbsp;import java.util.Random;
&nbsp;
&nbsp;public class TitleDisplay extends Display {
<b class="nc">&nbsp;	private static final Random random = new Random();</b>
&nbsp;
&nbsp;	private int rand;
<b class="nc">&nbsp;	private int count = 0; // This and reverse are for the logo; they produce the fade-in/out effect.</b>
<b class="nc">&nbsp;	private boolean reverse = false;</b>
&nbsp;
&nbsp;	public TitleDisplay() {
&nbsp;
<b class="nc">&nbsp;		super(true, false, new Menu.Builder(false, 2, RelPos.CENTER,</b>
&nbsp;				new StringEntry(&quot;minicraft.displays.title.display.checking&quot;, Color.BLUE),
&nbsp;				new BlankEntry(),
&nbsp;				new SelectEntry(&quot;minicraft.displays.title.play&quot;, () -&gt; {
<b class="nc">&nbsp;					if (WorldSelectDisplay.getWorldNames().size() &gt; 0)</b>
<b class="nc">&nbsp;						Game.setDisplay(new Display(true, new Menu.Builder(false, 2, RelPos.CENTER,</b>
<b class="nc">&nbsp;							new SelectEntry(&quot;minicraft.displays.title.play.load_world&quot;, () -&gt; Game.setDisplay(new WorldSelectDisplay())),</b>
<b class="nc">&nbsp;							new SelectEntry(&quot;minicraft.displays.title.play.new_world&quot;, () -&gt; Game.setDisplay(new WorldGenDisplay()))</b>
<b class="nc">&nbsp;						).createMenu()));</b>
<b class="nc">&nbsp;					else Game.setDisplay(new WorldGenDisplay());</b>
<b class="nc">&nbsp;				}),</b>
<b class="nc">&nbsp;				new SelectEntry(&quot;minicraft.display.options_display&quot;, () -&gt; Game.setDisplay(new OptionsMainMenuDisplay())),</b>
<b class="nc">&nbsp;				new SelectEntry(&quot;minicraft.displays.skin&quot;, () -&gt; Game.setDisplay(new SkinDisplay())),</b>
<b class="nc">&nbsp;				new SelectEntry(&quot;minicraft.displays.achievements&quot;, () -&gt; Game.setDisplay(new AchievementsDisplay())),</b>
&nbsp;				new SelectEntry(&quot;minicraft.displays.title.help&quot;, () -&gt;
<b class="nc">&nbsp;					Game.setDisplay(new Display(true, new Menu.Builder(false, 1, RelPos.CENTER,</b>
&nbsp;						new BlankEntry(),
<b class="nc">&nbsp;						new SelectEntry(&quot;minicraft.displays.title.help.instructions&quot;, () -&gt; Game.setDisplay(new BookDisplay(BookData.instructions.collect()))),</b>
<b class="nc">&nbsp;						new SelectEntry(&quot;minicraft.displays.title.help.storyline_guide&quot;, () -&gt; Game.setDisplay(new BookDisplay(BookData.storylineGuide.collect()))),</b>
<b class="nc">&nbsp;						new SelectEntry(&quot;minicraft.displays.title.help.about&quot;, () -&gt; Game.setDisplay(new BookDisplay(BookData.about.collect()))),</b>
<b class="nc">&nbsp;						new SelectEntry(&quot;minicraft.displays.title.help.credits&quot;, () -&gt; Game.setDisplay(new BookDisplay(BookData.credits.collect())))</b>
<b class="nc">&nbsp;					).setTitle(&quot;minicraft.displays.title.help&quot;).createMenu()))</b>
&nbsp;				),
&nbsp;				new SelectEntry(&quot;minicraft.displays.title.quit&quot;, Game::quit)
&nbsp;			)
<b class="nc">&nbsp;				.setPositioning(new Point(Screen.w / 2, Screen.h * 3 / 5), RelPos.CENTER)</b>
<b class="nc">&nbsp;				.createMenu()</b>
&nbsp;		);
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	@Override
&nbsp;	public void init(Display parent) {
<b class="nc">&nbsp;		super.init(null); // The TitleScreen never has a parent.</b>
&nbsp;
<b class="nc">&nbsp;		Renderer.readyToRenderGameplay = false;</b>
&nbsp;
&nbsp;		// Check version
<b class="nc">&nbsp;		checkVersion();</b>
&nbsp;
<b class="nc">&nbsp;		LocalDateTime time = LocalDateTime.now();</b>
<b class="nc">&nbsp;		if (time.getMonth() == Month.DECEMBER) {</b>
<b class="nc">&nbsp;			if (time.getDayOfMonth() == 19) rand = 1;</b>
&nbsp;		} else {
<b class="nc">&nbsp;			rand = random.nextInt(splashes.length - 2) + 2;</b>
&nbsp;		}
&nbsp;
<b class="nc">&nbsp;		World.levels = new Level[World.levels.length];</b>
&nbsp;
<b class="nc">&nbsp;		if (Game.player == null)</b>
&nbsp;			// Was online, need to reset player
<b class="nc">&nbsp;			World.resetGame(false);</b>
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	private void checkVersion() {
<b class="nc">&nbsp;		VersionInfo latestVersion = Network.getLatestVersion();</b>
<b class="nc">&nbsp;		if (latestVersion == null) {</b>
<b class="nc">&nbsp;			Network.findLatestVersion(this::checkVersion);</b>
&nbsp;		} else {
<b class="nc">&nbsp;			if (latestVersion.version.compareTo(Game.VERSION, true) &gt; 0) {</b>
<b class="nc">&nbsp;				menus[0].updateEntry(0, new StringEntry(Localization.getLocalized(&quot;minicraft.displays.title.display.new_version&quot;, latestVersion.releaseName), Color.GREEN));</b>
<b class="nc">&nbsp;				menus[0].updateEntry(1, new LinkEntry(Color.CYAN, Localization.getLocalized(&quot;minicraft.displays.title.select_to_download&quot;), latestVersion.releaseUrl, Localization.getLocalized(&quot;minicraft.displays.title.link_to_version&quot;, latestVersion.releaseUrl)));</b>
<b class="nc">&nbsp;			} else if (latestVersion.releaseName.length() &gt; 0) {</b>
<b class="nc">&nbsp;				menus[0].updateEntry(0, new StringEntry(&quot;minicraft.displays.title.display.latest_already&quot;, Color.DARK_GRAY, true));</b>
&nbsp;			} else {
<b class="nc">&nbsp;				menus[0].updateEntry(0, new StringEntry(&quot;minicraft.displays.title.display.cannot_check&quot;, Color.RED, true));</b>
&nbsp;			}
&nbsp;		}
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	@Override
&nbsp;	public void tick(InputHandler input) {
<b class="nc">&nbsp;		if (input.getMappedKey(&quot;F3-r&quot;).isClicked()) rand = random.nextInt(splashes.length - 3) + 3;</b>
&nbsp;
<b class="nc">&nbsp;		super.tick(input);</b>
<b class="nc">&nbsp;	}</b>
&nbsp;
&nbsp;	@Override
&nbsp;	public void render(Screen screen) {
<b class="nc">&nbsp;		super.render(screen);</b>
&nbsp;
<b class="nc">&nbsp;		MinicraftImage sheet = Renderer.spriteLinker.getSheet(SpriteType.Gui, &quot;title&quot;);</b>
<b class="nc">&nbsp;		int h = sheet.height / 8; // Height of squares (on the spritesheet)</b>
<b class="nc">&nbsp;		int w = sheet.width / 8; // Width of squares (on the spritesheet)</b>
<b class="nc">&nbsp;		int xo = (Screen.w - sheet.width) / 2; // X location of the title</b>
<b class="nc">&nbsp;		int yo = 26 - sheet.height / 2; // Y location of the title</b>
&nbsp;
<b class="nc">&nbsp;		for (int y = 0; y &lt; h; y++) {</b>
<b class="nc">&nbsp;			for (int x = 0; x &lt; w; x++) {</b>
<b class="nc">&nbsp;				screen.render(xo + x * 8, yo + y * 8, x, y, 0, sheet);</b>
&nbsp;			}
&nbsp;		}
&nbsp;
<b class="nc">&nbsp;		boolean isblue = splashes[rand].contains(&quot;blue&quot;);</b>
<b class="nc">&nbsp;		boolean isGreen = splashes[rand].contains(&quot;Green&quot;);</b>
<b class="nc">&nbsp;		boolean isRed = splashes[rand].contains(&quot;Red&quot;);</b>
&nbsp;
<b class="nc">&nbsp;		if (reverse) {</b>
<b class="nc">&nbsp;			count--;</b>
<b class="nc">&nbsp;			if (count == 0) reverse = false;</b>
&nbsp;		} else {
<b class="nc">&nbsp;			count++;</b>
<b class="nc">&nbsp;			if (count == 25) reverse = true;</b>
&nbsp;		}
&nbsp;
&nbsp;		/// This isn&#39;t as complicated as it looks. It just gets a color based off of count, which oscilates between 0 and 25.
<b class="nc">&nbsp;		int bcol = 5 - count / 5; // This number ends up being between 1 and 5, inclusive.</b>
<b class="nc">&nbsp;		int splashColor = isblue ? Color.BLUE : isRed ? Color.RED : isGreen ? Color.GREEN : Color.get(1, bcol * 51, bcol * 51, bcol * 25);</b>
&nbsp;
<b class="nc">&nbsp;		Font.drawCentered(splashes[rand], screen, (Screen.h / 2) - 44, splashColor);</b>
&nbsp;
<b class="nc">&nbsp;		Font.draw(Localization.getLocalized(&quot;minicraft.displays.title.display.version&quot;, Game.VERSION), screen, 1, 1, Color.get(1, 51));</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;		String upString = Localization.getLocalized(&quot;minicraft.displays.title.display.help.0&quot;, Game.input.getMapping(&quot;cursor-up&quot;), Game.input.getMapping(&quot;cursor-down&quot;));</b>
<b class="nc">&nbsp;		String selectString = Localization.getLocalized(&quot;minicraft.displays.title.display.help.1&quot;, Game.input.getMapping(&quot;select&quot;));</b>
<b class="nc">&nbsp;		String exitString = Localization.getLocalized(&quot;minicraft.displays.title.display.help.2&quot;, Game.input.getMapping(&quot;exit&quot;));</b>
&nbsp;
<b class="nc">&nbsp;		Font.drawCentered(upString, screen, Screen.h - 30, Color.DARK_GRAY);</b>
<b class="nc">&nbsp;		Font.drawCentered(selectString, screen, Screen.h - 20, Color.DARK_GRAY);</b>
<b class="nc">&nbsp;		Font.drawCentered(exitString, screen, Screen.h - 10, Color.DARK_GRAY);</b>
<b class="nc">&nbsp;	}</b>
&nbsp;
<b class="nc">&nbsp;	private static final String[] splashes = {</b>
&nbsp;		&quot;Secret Splash!&quot;,
&nbsp;		&quot;Happy birthday Minicraft!&quot;,
&nbsp;		// These two above have id specific functionality. Don&#39;t move or remove them.
&nbsp;		&quot;Now with skins!&quot;,
&nbsp;		&quot;Now with better fishing!&quot;,
&nbsp;		&quot;Now with better tools!&quot;,
&nbsp;		&quot;Now with better chests!&quot;,
&nbsp;		&quot;Now with better dungeons!&quot;,
&nbsp;		&quot;Only on PlayMinicraft.com!&quot;,
&nbsp;		&quot;Playminicraft.com is the bomb!&quot;,
&nbsp;		&quot;The Wiki is weak! Help it!&quot;,
&nbsp;		&quot;Notch is Awesome!&quot;,
&nbsp;		&quot;Dillyg10 is cool as Ice!&quot;,
&nbsp;		&quot;Shylor is the man!&quot;,
&nbsp;		&quot;Chris J is great with portals!&quot;,
&nbsp;		&quot;AntVenom loves cows! Honest!&quot;,
&nbsp;		&quot;You should read Antidious Venomi!&quot;,
&nbsp;		&quot;Keep calm!&quot;,
&nbsp;		&quot;Get him, Paul!&quot;,
&nbsp;		&quot;Forty-Two!&quot;,
&nbsp;		&quot;Kill Creeper, get Gunpowder!&quot;,
&nbsp;		&quot;Kill Cow, get Beef!&quot;,
&nbsp;		&quot;Kill Zombie, get Cloth!&quot;,
&nbsp;		&quot;Kill Slime, get Slime!&quot;,
&nbsp;		&quot;Kill Skeleton, get Bones!&quot;,
&nbsp;		&quot;Kill Sheep, get Wool!&quot;,
&nbsp;		&quot;Kill Pig, get Porkchop!&quot;,
&nbsp;		&quot;Gold &gt; Iron&quot;,
&nbsp;		&quot;Gem &gt; Gold&quot;,
&nbsp;		&quot;Story? Uhh...&quot;,
&nbsp;		&quot;Infinite terrain? What&#39;s that?&quot;,
&nbsp;		&quot;Windows? I prefer Doors!&quot;,
&nbsp;		&quot;2.5D FTW!&quot;,
&nbsp;		&quot;3rd dimension not included!&quot;,
&nbsp;		&quot;Null not included&quot;,
&nbsp;		&quot;Mouse not included!&quot;,
&nbsp;		&quot;No spiders included!&quot;,
&nbsp;		&quot;No chickens included!&quot;,
&nbsp;		&quot;Grab your friends!&quot;,
&nbsp;		&quot;Creepers included!&quot;,
&nbsp;		&quot;Skeletons included!&quot;,
&nbsp;		&quot;Knights included!&quot;,
&nbsp;		&quot;Snakes included!&quot;,
&nbsp;		&quot;Cows included!&quot;,
&nbsp;		&quot;Sheep included!&quot;,
&nbsp;		&quot;Pigs included!&quot;,
&nbsp;		&quot;Bigger Worlds!&quot;,
&nbsp;		&quot;World types!&quot;,
&nbsp;		&quot;World themes!&quot;,
&nbsp;		&quot;Milk is an idea!&quot;,
&nbsp;		&quot;So we back in the mine,&quot;,
&nbsp;		&quot;Pickaxe swinging from side to side&quot;,
&nbsp;		&quot;In search of Gems!&quot;,
&nbsp;		&quot;Life itself suspended by a thread&quot;,
&nbsp;		&quot;Gimmie a bucket!&quot;,
&nbsp;		&quot;Farming with water!&quot;,
&nbsp;		&quot;Get the High-Score!&quot;,
&nbsp;		&quot;Potions ftw!&quot;,
&nbsp;		&quot;Beds ftw!&quot;,
&nbsp;		&quot;Defeat the Air Wizard!&quot;,
&nbsp;		&quot;Conquer the Dungeon!&quot;,
&nbsp;		&quot;One down, one to go...&quot;,
&nbsp;		&quot;Loom + Wool = String!&quot;,
&nbsp;		&quot;String + Wood = Rod!&quot;,
&nbsp;		&quot;Sand + Gunpowder = TNT!&quot;,
&nbsp;		&quot;Sleep at Night!&quot;,
&nbsp;		&quot;Farm at Day!&quot;,
&nbsp;		&quot;Explanation Mark!&quot;,
&nbsp;		&quot;!sdrawkcab si sihT&quot;,
&nbsp;		&quot;This is forwards!&quot;,
&nbsp;		&quot;Why is this blue?&quot;,
&nbsp;		&quot;Green is a nice color!&quot;,
&nbsp;		&quot;Red is my favorite color!&quot;,
&nbsp;		&quot;Punch the Moon!&quot;,
&nbsp;		&quot;This is String qq!&quot;,
&nbsp;		&quot;Why?&quot;,
&nbsp;		&quot;hello down there!&quot;,
&nbsp;		&quot;That guy is such a sly fox!&quot;,
&nbsp;		&quot;Hola señor!&quot;,
&nbsp;		&quot;Sonic Boom!&quot;,
&nbsp;		&quot;Hakuna Matata!&quot;,
&nbsp;		&quot;One truth prevails!&quot;,
&nbsp;		&quot;Awesome!&quot;,
&nbsp;		&quot;Sweet!&quot;,
&nbsp;		&quot;Great!&quot;,
&nbsp;		&quot;Cool!&quot;,
&nbsp;		&quot;Radical!&quot;,
&nbsp;		&quot;011011000110111101101100!&quot;,
&nbsp;		&quot;001100010011000000110001!&quot;,
&nbsp;		&quot;011010000110110101101101?&quot;,
&nbsp;		&quot;...zzz...&quot;,
&nbsp;		&quot;They were too redundant&quot;,
&nbsp;		&quot;Echoed whispers...&quot;,
&nbsp;		&quot;Of knights and men&quot;,
&nbsp;		&quot;Death before dishonor!&quot;,
&nbsp;	};
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-04-18 20:02</div>
</div>
</body>
</html>
